<page footer="page">
    <page_footer>
        <hr />
        <span>{{agency.abreviation}}</span> <span style="margin-left:150px;">Printed By <b>{{currentUser}}</b></span><span style="margin-left:100px;">GreenSoft-Team</span>
    </page_footer>
    <table>
        <tr>
            <td class="60p">
                 <b>{{agency.name}}</b> <br/>
                 <b>HEAD OFFICE {{agency.abreviation}}</b> <br/>
                 <b>TEL: {{agency.phoneNumber}}</b><br>
                 <b>PO BOX: {{agency.poBox}}</b>
            </td>
            <td  style="text-align: right;" class="40p">
                <img style="height:80px;" src="./assets/images/users/logo_cu1.jpg"  alt="logo">
            </td>
        </tr>
    </table>
    <table>
        <tr>
            <td class="100p">
                <h3 style="text-align:center"><strong>INDIVIDUAL LEDGER BALANCE</strong></h3>
            </td>
        </tr>
    </table>
    <table>
        <tr>
            <td class="70p">Generate on: <strong>{{date |date('d-m-Y H:m:s')}}</strong></td>
            <td style="text-align:left" class="30p">GLB End date: <strong>{{endDate |date('d-m-Y')}}</strong></td>
        </tr>
    </table><br>
    <table>
        <tr>
            <td class="70p">Account Name: <strong>{{account.accountName |upper}}</strong></td>
            <td style="text-align:left" class="30p">Account Number: <strong>{{account.accountNumber}}</strong></td>
        </tr>
    </table><br>
        {% if operations %}
    <table class="eleves">
        <tr>
            <th style="text-align:center; background: gray" class="10p">Date</th>
            <th style="text-align:center; background: gray" class="40p">Description</th>
            <th style="text-align:center; background: gray" class="15p">Debit</th>
            <th style="text-align:center; background: gray" class="15p">Credit</th>
            <th style="text-align:center; background: gray" class="20p">Balance</th>
        </tr>
        <tr>
            <td style="text-align:center; font-size:20px" colspan="4"><b>BALANCE B/F ({{dayBefore |date('d-m-Y')}})</b></td>
            <td style="text-align:center; font-size:20px"><b>{{balanceBF |number_format(0, '.', ' ')}}</b></td>
        </tr>
        {% set totalBalance = balanceBF %}
        {% for operation in operations %} 
            <tr>
                <td style="text-align:center">{{operation.dateOperation|date('d-m-Y')}}</td>
                <td style="text-align:center">{{operation.accountTitle}}</td>
                <td style="text-align:center">{% if operation.debit != 0  %}
                                                    {{operation.debit |number_format(0, '.', ' ')}}
                    {% set totalBalance = totalBalance + operation.debit %}
                                                {% else %}
                                                    //
                                                {% endif %}
                </td>
                <td style="text-align:center">{% if operation.credit != 0 %}
                                                    {{operation.credit |number_format(0, '.', ' ')}}
                                                    {% set totalBalance = totalBalance - operation.credit %}
                                                {% else %}
                                                    //
                                                {% endif %}
                </td>
                <td style="text-align: center">
                    {{totalBalance |abs |number_format(0, '.', ' ')}}
                </td>
            </tr>
        {% endfor %}
     </table>
        {% elseif balanceBF != 0 %}
            <table class="eleves">
                <tr>
                    <th style="text-align:center; background: gray" class="10p">Date</th>
                    <th style="text-align:center; background: gray" class="40p">Description</th>
                    <th style="text-align:center; background: gray" class="15p">Debit</th>
                    <th style="text-align:center; background: gray" class="15p">Credit</th>
                    <th style="text-align:center; background: gray" class="20p">Balance</th>
                </tr>
                <tr>
                    <td style="text-align:center; font-size:20px" colspan="4"><b>BALANCE B/F ({{dayBefore |date('d-m-Y')}})</b></td>
                    <td style="text-align:center; font-size:20px"><b>{{balanceBF |number_format(0, '.', ' ')}}</b></td>
                </tr>
                <tr>
                    {# <td style="text-align:center; font-size:20px" ></td> #}
                    <td style="text-align:center; color:red; font-size:20px" colspan="5"><b>NO OPERATIONS</b></td>
                </tr>
             </table>
        {% else %}
            <table class="eleves">
                <tr>
                    <th style="text-align:center; background: gray" class="10p">Date</th>
                    <th style="text-align:center; background: gray" class="40p">Description</th>
                    <th style="text-align:center; background: gray" class="15p">Debit</th>
                    <th style="text-align:center; background: gray" class="15p">Credit</th>
                    <th style="text-align:center; background: gray" class="20p">Balance</th>
                </tr>
                <tr>
                    <td style="text-align:center; font-size:20px;color:red" colspan="5"><b>NO RESULTS</b></td>
                </tr>
             </table>
        {% endif %}
</page>

{% include '/report/extra_file_report.css.html.twig' %}
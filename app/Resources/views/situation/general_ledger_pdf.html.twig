<style type="text/css">
    table {
        width: 100%;
        line-height: 5mm;
        border-collapse: collapse;
    }

    .p-10 { width: 10%;}
    .p-50 { width: 50%; }
    .p-20 {width: 20%;}
    .p-100{width: 100%;}

    .info td, .info1 td{
        height: 20px;
        border: none;
        border-top: 1px solid black;
        border-bottom: 1px solid black;
    }

    .zone td,.zone th {
        height: 45px;
        font-size: 15px;
    }

    .zoneInterest td,.zoneInterest th {
        height: 35px;
        font-size: 15px;
    }

    .statistics td,.statistics th {
        border: 1px solid black;
        height: 25px;
    }


    .operations td {
        text-align: center;
    }

    .report th, .report td{
        border: 1px solid black;
        height: 20px;
        font-size: 15px;
    }
</style>

<page footer="page">
    <page_footer>
        <hr />
        <span>{{agency.abreviation}}</span> <span style="margin-left:150px;">Printed By <b>{{currentUser}}</b></span><span style="margin-left:100px;">GreenSoft-Group</span>
    </page_footer>
    <table>
        <tr>
            <td class="60p">
                 <b>{{agency.name}}</b> <br/>
                 <b>HEAD OFFICE {{agency.town}}</b> <br/>
                 <b>TEL: {{agency.phoneNumber}}</b><br>
                 <b>PO BOX: {{agency.poBox}}</b>
            </td>
            <td  style="text-align: right;" class="40p">
                <img style="height:80px;" src="./assets/images/users/logo_cu1.jpg"  alt="logo">
            </td>
        </tr>
    </table>
    <table>
        <tr>
            <td class="p-100">
                <h3 style="text-align:center"><u><strong>GENERAL LEDGER BALANCE</strong></u></h3>
            </td>
        </tr>
    </table>
    <table>
        <tr>
            <td class="p-50">Generate on: <strong>{{date |date('d-m-Y H:i')}}</strong></td>
            {% if lastOperation %}
                <td style="text-align:right" class="p-50">GLB End date: <strong>{{lastOperation.dateOperation |date('d-m-Y')}}</strong></td>
            {% else %}
                <td style="text-align:right" class="p-50">GLB End date: <strong>{{endDate |date('d-m-Y')}}</strong></td>
            {% endif %}
        </tr>
    </table><br>
        {% if operations %}
    <table class="statistics">
        <tr>
            <th style="text-align:center; background: gray" class="p-10">DATE</th>
            <th style="text-align:center; background: gray" class="p-50">DESCRIPTION</th>
            <th style="text-align:center; background: gray" class="p-10">DEBIT</th>
            <th style="text-align:center; background: gray" class="p-10">CREDIT</th>
            <th style="text-align:center; background: gray" class="p-20">BALANCE</th>
        </tr>
        <tr>
        {% if lastOperation %}
            <td style="text-align:center; font-size:20px" colspan="4"><b>BALANCE B/F ({{lastOperation.dateOperation |date('d-m-Y')}})</b></td>
        {% else %}
            <td style="text-align:center; font-size:20px" colspan="4"><b>BALANCE B/F ({{dayBefore |date('d-m-Y')}})</b></td>
        {% endif %}

            <td style="text-align:center; font-size:20px"><b>{{balanceBF |number_format(0, '.', ' ')}}</b></td>
        </tr>
        {% for operation in operations %} 
            <tr>
                <td style="text-align:center">{{operation.dateOperation|date('d-m-Y')}}</td>
                <td style="text-align:center; font-size:11px">{{operation.accountTitle}} //
                                            {% if operation.representative %}
                                                {% set array = operation.representative|split(' ') %}
                                                {{ attribute(array, 0) }} 
                                                {% if array| length >= 2 %}
                                                    {{ attribute(array, 1) }}
                                                {% endif %}
                                            {% endif %}
                                            </td>
                <td style="text-align:center">{% if operation.debit != 0  %}
                                                    {{operation.debit |number_format(0, '.', ' ')}}
                                                {% else %}
                                                    //
                                                {% endif %}
                </td>
                <td style="text-align:center">{% if operation.credit != 0 %}
                                                    {{operation.credit |number_format(0, '.', ' ')}}
                                                {% else %}
                                                    //
                                                {% endif %}
                </td>
                <td style="text-align: center">
                    {% if operation.debit != 0 %}
                                {{operation.balance |number_format(0, '.', ' ')}}
                    {% endif %}
                    {% if operation.credit != 0 %}
                        {{operation.balance |number_format(0, '.', ' ')}}
                    {% endif %}
                </td>
            </tr>
        {% endfor %}
     </table>
        {% elseif balanceBF != 0 %}
            <table class="statistics">
                <tr>
                    <th style="text-align:center; background: gray" class="p-10">DATE</th>
                    <th style="text-align:center; background: gray" class="p-50">DESCRIPTION</th>
                    <th style="text-align:center; background: gray" class="p-10">DEBIT</th>
                    <th style="text-align:center; background: gray" class="p-10">CREDIT</th>
                    <th style="text-align:center; background: gray" class="p-20">BALANCE</th>
                </tr>
                <tr>
                    <td style="text-align:center; font-size:20px" colspan="4"><b>BALANCE B/F ({{lastOperation.dateOperation |date('d-m-Y')}})</b></td>
                    <td style="text-align:center; font-size:20px"><b>{{balanceBF |number_format(0, '.', ' ')}}</b></td>
                </tr>
                <tr>
                    <td style="text-align:center; font-size:20px; color:red" colspan="5"><b>NO OPERATIONS FOR THE DAY</b></td>
                </tr>
             </table>
        {% else %}
             <table class="statistics">
                <tr>
                    <th style="text-align:center; background: gray" class="p-10">DATE</th>
                    <th style="text-align:center; background: gray" class="p-50">DESCRIPTION</th>
                    <th style="text-align:center; background: gray" class="p-10">DEBIT</th>
                    <th style="text-align:center; background: gray" class="p-10">CREDIT</th>
                    <th style="text-align:center; background: gray" class="p-20">BALANCE</th>
                </tr>
                <tr>
                    <td style="text-align:center; font-size:20px;color:red" colspan="5"><b>NO RESULTS</b></td>
                </tr>
             </table>
        {% endif %}
</page>

{#{% include '/report/extra_file_report.css.html.twig' %}#}